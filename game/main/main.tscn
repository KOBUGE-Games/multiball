[gd_scene load_steps=9 format=1]

[ext_resource path="res://main/main.gd" type="Script" id=1]
[ext_resource path="res://player/player.tscn" type="PackedScene" id=2]
[ext_resource path="res://player/player_local.tscn" type="PackedScene" id=3]
[ext_resource path="res://main/gui.gd" type="Script" id=4]
[ext_resource path="res://player/team.tscn" type="PackedScene" id=5]

[sub_resource type="Environment" id=3]

ambient_light/enabled = true
ambient_light/color = Color( 1, 1, 1, 1 )
ambient_light/energy = 0.5
fxaa/enabled = false
background/mode = 2
background/color = Color( 1, 0, 1, 1 )
background/energy = 1.0
background/scale = 1.0
background/glow = 0.0
background/canvas_max_layer = null
glow/enabled = false
glow/blur_passes = 1
glow/blur_scale = 1
glow/blur_strength = 1
glow/blur_blend_mode = null
glow/bloom = 0.0
glow/bloom_treshold = 0.5
dof_blur/enabled = false
dof_blur/blur_passes = 1
dof_blur/begin = 100.0
dof_blur/range = 10.0
hdr/enabled = false
hdr/tonemapper = 0
hdr/exposure = 0.4
hdr/white = 1.0
hdr/glow_treshold = 0.95
hdr/glow_scale = 0.2
hdr/min_luminance = 0.4
hdr/max_luminance = 8.0
hdr/exposure_adj_speed = 0.5
fog/enabled = false
fog/begin = 0.0
fog/begin_color = Color( 0, 0.625, 1, 1 )
fog/end_color = Color( 1, 0, 0, 1 )
fog/attenuation = 1.0
fog/bg = false
bcs/enabled = false
bcs/brightness = 1.0
bcs/contrast = 1.0
bcs/saturation = 1.0
srgb/enabled = false

[sub_resource type="CanvasItemShader" id=1]

_code = { "fragment":"float ra(color col) {\n\treturn distance(col.rgb, vec3(1, 0, 1));\n}\n\nvec2 d = TEXTURE_PIXEL_SIZE;\nfloat edge = (\n\tabs( ra(tex(TEXTURE, UV + d*vec2(1,0))) - ra(tex(TEXTURE, UV + d*vec2(-1,0))) ) +\n\tabs( ra(tex(TEXTURE, UV + d*vec2(0,1))) - ra(tex(TEXTURE, UV + d*vec2(0,-1))) ) +\n\tabs( ra(tex(TEXTURE, UV + d*vec2(1,1))) - ra(tex(TEXTURE, UV + d*vec2(-1,-1))) ) +\n\tabs( ra(tex(TEXTURE, UV + d*vec2(-1,1))) - ra(tex(TEXTURE, UV + d*vec2(1,-1))) )\n);\nfloat orig_alpha = COLOR.a;\nCOLOR.a *= ra(COLOR);\nCOLOR = mix(COLOR, color(1,0,0,orig_alpha), edge);", "fragment_ofs":0, "light":"", "light_ofs":0, "vertex":"", "vertex_ofs":0 }

[sub_resource type="CanvasItemMaterial" id=2]

shader/shader = SubResource( 1 )
shader/shading_mode = 0

[node name="main" type="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
script/script = ExtResource( 1 )
__meta__ = { "__editor_plugin_screen__":"Script" }
player_scene = ExtResource( 2 )
local_player_scene = ExtResource( 3 )

[node name="default_camera" type="Camera" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 228.33, 0 )
projection = 0
fov = 60.0
near = 0.1
far = 1000.0
keep_aspect = 1
current = false
visible_layers = 1048575
environment = null
h_offset = 0.0
v_offset = 0.0

[node name="GUI" type="Control" parent="."]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
script/script = ExtResource( 4 )

[node name="FPS" type="Label" parent="GUI"]

anchor/left = 1
anchor/right = 1
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 255.0
margin/top = 5.0
margin/right = 5.0
margin/bottom = 33.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/font_color_shadow = Color( 1, 1, 1, 1 )
custom_constants/shadow_offset_x = 1
custom_constants/shadow_offset_y = 1
custom_constants/shadow_as_outline = 1
text = "60 FPS"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="ping" type="Label" parent="GUI"]

anchor/left = 1
anchor/right = 1
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 255.0
margin/top = 33.0
margin/right = 5.0
margin/bottom = 61.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/font_color_shadow = Color( 1, 1, 1, 1 )
custom_constants/shadow_offset_x = 1
custom_constants/shadow_offset_y = 1
custom_constants/shadow_as_outline = 1
text = "10 rtt"
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="map" type="Control" parent="GUI"]

visibility/opacity = 0.5
anchor/left = 1
anchor/top = 1
anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 277.0
margin/top = 172.0
margin/right = 0.0
margin/bottom = 0.0

[node name="viewport" type="Viewport" parent="GUI/map"]

rect = Rect2( 0, 0, 277, 172 )
own_world = false
world = null
transparent_bg = false
render_target/enabled = true
render_target/v_flip = false
render_target/clear_on_new_frame = true
render_target/filter = false
render_target/gen_mipmaps = false
render_target/update_mode = 3
audio_listener/enable_2d = false
audio_listener/enable_3d = false
physics/object_picking = false
gui/disable_input = false

[node name="map_camera" type="Camera" parent="GUI/map/viewport"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 100, 0 )
projection = 1
size = 200.0
near = 0.1
far = 100.0
keep_aspect = 1
current = true
visible_layers = 1048575
environment = SubResource( 3 )
h_offset = 0.0
v_offset = 0.0

[node name="sprite" type="ViewportSprite" parent="GUI/map"]

material/material = SubResource( 2 )
viewport = NodePath("../viewport")
centered = false

[node name="team1" parent="." instance=ExtResource( 5 )]

color = Color( 1, 0, 0, 1 )

[node name="team2" parent="." instance=ExtResource( 5 )]

color = Color( 0, 0.0859375, 1, 1 )
name = "Blue"


